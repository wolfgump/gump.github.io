# 数据库基础知识



## 发展历程

### 文件存储

优点：简单

缺点：

- 寻址时间长，时间在ms级别（s>ms>us>ns）; 内存的寻址时间在ns
- 带宽大小限制，一般是百兆带宽；
- 查找时需要全量IO

### 关系型数据库

整体优点：利用索引+dataPage块 机制避免了全量文件IO

整体缺点：由于事务、join查询等设计造成关系型很难横向扩展；分库分表后面临两大难题：分布式事务和跨库关联查询

| 名称     | 优点                                                      | 缺点                                             |
| -------- | --------------------------------------------------------- | ------------------------------------------------ |
| Oracle   | 企业级数据库，查询数据快，特别是join查询比Mysql性能好很多 | 价格贵                                           |
| Mysql    | 免费                                                      | join查询性能差，尽量少用，最多不要超过三张表join |
| SAP HANA | 全内存关系型数据库，速度特别快                            | 价格特别贵，内存大主机要定制                     |

### Key-Value数据库

整体优点：全内存型数据库，避免了磁盘寻址和网络带传输，速度特别快；容易横向扩展

整体缺点：不支持事务；内存大小限制不适合存储大量数据，即使横向扩展建立集群后，整体内存空间还是比较小

| 名称     | 优点                                                         | 缺点                                            |
| -------- | ------------------------------------------------------------ | ----------------------------------------------- |
| Reids    | value有类型，针对不同类型提供了丰富的操作接口，避免了把全部value取到客户端再处理； |                                                 |
| Memcache |                                                              | value没有类型，每次只能根据key取全量的value回来 |
|          |                                                              |                                                 |

### 文档型数据库

整体优点：可以用来存海量数据，可以做结构化查询，可以做数据分析

整体缺点：不支持事务，不支持join查询

| 名称                      | 使用场景   | 缺点 |
| ------------------------- | ---------- | ---- |
| MongoDB(主文档、次搜索)   | 存业务日志 |      |
| Elastic（主搜索、次文档） |            |      |
|                           |            |      |



### 搜索数据库

### 图数据库

### 列数据库


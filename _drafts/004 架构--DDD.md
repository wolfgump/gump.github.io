# DDD-领域驱动设计



## 理解

  为解决复杂软件设计和代码设计提供一套指导方法、标准、概念

- 结构分层 UI、APP、Domain、Infrastructure
- 核心概念 
  - 统一语言-- 方便业务专家 开发工程共同；UML 名词表
  
  - Entity
  
    >  [What kinds of behavior should I put on a domain entity?](https://stackoverflow.com/questions/7781573/ddd-what-kinds-of-behavior-should-i-put-on-a-domain-entity)
    >
    >  The domain should represent (in code) what the business is or does (in real life). Domain entities, then, are the artifacts or actors found in that real-life business. What kind of behavior do those rea-life artifacts and actors have? All of it. In turn, what kind of behavior SHOULD domain entities have on them? All of it.
    >
    >  For instance, in real life, a manager can hire a new employee. The domain's representation of that should include entities like "manager" and "new employee". The manager is the actor, here.
    >
    >  ```java
    >  //newEmployee comes from somewhere else... possibly the UI
    >  //someManagerId comes from the logged in user
    >  var manager = _repository.Get<Manager>(someManagerId);
    >  manager.Hire(newEmployee);
    >  ```
  
  - ValueObject
  
  - Repo
  
  - Domain Event--the state of the business changes (a change that matters to business experts)
  
  - Aggregate--bind *Entities* & *Value Objects* under the same root
  
  - Domain Services-- business logic doesn’t belong to a given object
  
    doesn't naturally fit within a domain object
  
    Having CashTrasnfer use case, we have to:
  
    - load account 'from'
    - load account 'to'
    - check 'from' balance' //error could be returned
    - verify accounts access (locked, etc.)//error could be returned
    - withdraw 'amount' from 'from'
    - put the amount to 'to'
  
  - Application Service 
  
    An application service is a class which serves as a [facade](http://en.wikipedia.org/wiki/Facade_pattern) encapsulating your domain and implements domain uses cases by orchestrating domain objects, repositories and other services
  
  - 上下文界限
  
  - CQRS

## 架构图

![img](../img/arch/ddd-compents.png)
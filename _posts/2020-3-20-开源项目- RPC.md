---
layout: post
title: "RPC"
subtitle: ''
comments: false
author: "Gump"
header-style: text
date: 2020-3-20 20:30:21 +0800
tags:
    - 开源项目 
    - 中间件
    - RPC
---

# RPC

## Dubbo

> https://github.com/apache/dubbo

### SPI

> https://dubbo.apache.org/zh-cn/docs/source_code_guide/dubbo-spi.html
>
> https://blog.csdn.net/u013095337/article/details/78805914

## Adaptive

可作用到类或者方法上；当调用getAdaptiveExtension方法时获取一个自适应的扩展点

设计Adaptive的目的是为了提供一种机制， 找到激活的扩展点

Adaptive类的查找逻辑：找实现SPI的类，如果有Apative注解的就返回；如果找不到自己生成源码然后编译生成自适应类，生成的源码只会生成SPI接口中加了@Adaptive注解的方法，生成方法的逻辑是首先查想找方法参数中有没有URL类型的参数，如果没有再查找参数实体里有没有URL类型的属性，找到URL查找扩展点逻辑如下：

- 如果扩展点名称是protocol,则根据URL的protocol为扩展点名称

- 如果扩展点名称不是protocol,

  -   @Adaptive注解的方法参数包含Invocation类型，调用url.getMeathodParametera（methodName,key）
  - Adaptive注解的方法参数不包含Invocation类型，调用url.getParameter（methodName,key）

## SOFA-RPC

> https://github.com/sofastack/sofa-rpc

## XXL-RPC

> https://github.com/xuxueli/xxl-rpc

## motan

> https://github.com/weibocom/motan
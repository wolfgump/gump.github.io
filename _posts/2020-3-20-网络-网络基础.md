---
layout: post
title: "网络基础"
subtitle: ''
comments: false
author: "Gump"
header-style: text
date: 2020-3-20 20:30:21 +0800
tags:
    - 网络
---

# 网络基础

##TCP UDP
### tcp/udp定义
1、TCP面向连接（如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接
2、TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付
3、TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流;UDP是面向报文的
UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如IP电话，实时视频会议等）
4、每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信
5、TCP首部开销20字节;UDP的首部开销小，只有8个字节
6、TCP的逻辑通信信道是全双工的可靠信道，UDP则是不可靠信道
### tcp三次握手和四次挥手
tcp是全双工通信 
握手过程：
A:我说话你能听到吗
B:能听到，我说话你能听到吗
A:可以听到
挥手过程：
A:喂，我不说了
B:我知道了，上一句还没说完
B:上一句说完了，我也不说了
A:知道了

## 长连接、短连接、长轮询、短轮询、websocket、心跳

 > 参考 https://www.cnblogs.com/stateis0/p/9255966.html

- 长短连接主要取决服务端和客户端是否主动去关闭了连接；
- 长轮询是在客户端轮询，服务端事件监听，spring 的DeferredResult;实质是通过循环建立长连接，既能降低tcp连接新建的开销又能减轻服务端维持tcp连接的开销
- websocket全双工通讯协议；长连接+全双工通讯
- 长连接缺点：对网络环境要求高，容易推送失败。且有双写问题。
- 心跳：客户端发送存活心跳包，以维持和服务端连接。




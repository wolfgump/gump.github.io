---
layout: post
title: "ElasticSearch"
subtitle: ''
comments: false
author: "Gump"
header-style: text
date: 2020-3-20 20:30:21 +0800
tags:
    - 存储
    - 笔记
---

# ElasticSearch

## 典型用途

- 全文检索
- 日志检索

## 特点

- A distributed real-time document store where *every field* is indexed and searchable
- A distributed search engine with real-time analytics
- Capable of scaling to hundreds of servers and petabytes of structured and unstructured data

## 概念

- Index :类似关系型数据的 db

  > Elastic 会索引所有字段，经过处理后写入一个反向索引（Inverted Index）。查找数据的时候，直接查找该索引。
  >
  > 所以，Elastic 数据管理的顶层单位就叫做 Index（索引）

- Type : 类似关系型数据库中的 table,不同的是同一个Index下的Type应该是相似的结构，Type只是用来过滤Document的，根据[规划](https://www.elastic.co/blog/index-type-parent-child-join-now-future-in-elasticsearch)，Elastic 6.x 版只允许每个 Index 包含一个 Type，7.x 版将会彻底移除 Type。

- Document :类似关系型数据库表中的一行

- Inverted Index : 类型关系型数据里的字段的 index

  > es中各种index的概念比较容易混淆，下面做一个解释：
  >
  > **Index (noun)**
  >
  > As explained previously, an *index* is like a *database* in a traditional relational database. It is the place to store related documents. The plural of *index* is *indices* or *indexes*.
  >
  > **Index (verb)**
  >
  > *To index a document* is to store a document in an *index (noun)* so that it can be retrieved and queried. It is much like the `INSERT` keyword in SQL except that, if the document already exists, the new document would replace the old.
  >
  > **Inverted index**
  >
  > Relational databases add an *index*, such as a B-tree index, to specific columns in order to improve the speed of data retrieval. Elasticsearch and Lucene use a structure called an *inverted index* for exactly the same purpose.
  >
  > By default, every field in a document is *indexed* (has an inverted index) and thus is searchable. A field without an inverted index is not searchable. We discuss inverted indexes in more detail in [Inverted Index](https://www.elastic.co/guide/en/elasticsearch/guide/current/inverted-index.html).

